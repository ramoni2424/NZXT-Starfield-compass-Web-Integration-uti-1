<html>
<header>
  <title>NZXT Starfield Compass Web Integration</title>
  <!--https://cdnjs.com/libraries/font-awesome-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!--<link rel="stylesheet" href="./public/css/estilo1.css">-->
  <link rel="stylesheet" href="../../public/css/style.css" />
  <style>
    #imagen1 {
      display: block;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: transparent;
      border-radius: 50%;
      overflow: hidden;
      height: 95%;
      width: 95%;  
    }
  </style>
</header>

<body>
  <div id="imagen1">
    <img crossOrigin>
  </div>
  
  <div class="NZXTLogo">
    <h2>NZXT</h2>
    <h2>NZXT</h2>
  </div>
  <br><br><br><br><br>
  
  <div class="info_wrapper">

    <div class="info_container">
      <span><i class="fa fa-3x fa-microchip" style="color: rgb(39, 88, 179);"></i></span>
      <p id="cpu_usage_use" class="title">nombreCPU</p>
      <p id="cpu_temp" class="info">- °C</p>
    </div>

    <span class="divider"></span>


    <div class="info_container">
      <span><i class="fa-3x fa-sharp fa-solid fa-memory" style="color: red;"></i></span>
      <p id="ram_usage" class="title">nombreRAM</p>
      <p id="ram_usage_uso" class="info">- GB</p>
    </div>


    <span class="divider"></span>

    <div class="info_container">
      <img src="../../public/svg/video-card.svg">

      <p id="gpu_usage_use" class="title">nombreGPU</p>
      <p id="gpu_temp" class="info">- °C</p>
    </div>
  </div>

  <div class="info_wrapper">


    <div class="info_container">
      <span><i class="fa-3x fa-solid fa-clock" style="color:rgb(172, 165, 165);"></i></span>
      <p class="title">Hora</p>
      <p id="hora_use" class="info">-</p>
    </div>

    <span class="divider"></span>

    <div class="info_container">
      <span><i class="fa fa-3x fa-water" style="color: darkcyan;"></i></span>
      <p id="kraken_usage" class="title">Liquido</p>
      <p id="kraken_usage_use" class="info">- °C</p>
    </div>
  </div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.4.0/color-thief.min.js"></script>
<script>
    window.onload = () => {
//COPIA BUENA
    getGenerateImage = () => {
            let element = document.querySelector('#imagen1 img');

            let randomNum = Math.random();
            let newImageSrc = `https://picsum.photos/670/620?random=${randomNum}`;

            element.addEventListener('load', function () {
                getDominantImageColor();
                setTimeout(getGenerateImage, 4000); //60000
            });
            element.src = newImageSrc;
        }

    getDominantImageColor = () => {
        // Obtén la imagen
        let sourceImage = document.querySelector("#imagen1 img");
        const colorThief = new ColorThief();

        let color = colorThief.getColor(sourceImage);
        let donut = document.querySelector("#imagen1");

        donut.style.border = "14px solid rgba(" + color[0] + "," + color[1] + "," + color[2] + ",0.5" + ")";
    }  

    // Inicia el proceso
    getGenerateImage();

    }

</script>
<script type="module" src="../../public/js/main.js"></script>
</body>